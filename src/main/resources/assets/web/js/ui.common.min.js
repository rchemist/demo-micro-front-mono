"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var uiCommon=function(o,s){return o.init=function(){o.eventBind.init(),0<$("[data-pop]").length&&o.layer.init()},o.bodyFix={on:function(){$("#wrap");var t=s.scrollTop();$("body").addClass("scrOff").css({top:-t})},off:function(){var t=Math.abs(parseInt($("body").css("top")));$("body").removeClass("scrOff").removeAttr("style"),s.scrollTop(t)}},o.slick={init:function(t,i){return t.not(".slick-initialized").slick(i)},destory:function(t){t.filter(".slick-initialized").slick("unslick")}},o.lottie={init:function(t,i){lottie.loadAnimation({container:document.getElementById(t),renderer:"svg",loop:!0,autoplay:!0,path:"../../../assets/web/images/lottie/"+i+".json"})}},o.layer={init:function(){var i=this;$("[data-pop]").on("click",function(t){return i.open(t)}),$(".popup-close").on("click",function(t){return i.close(t)})},open:function(t){var i="object"==_typeof(t)?"#"+$(t.currentTarget).attr("data-pop"):"#"+t;this.obj=$(t.currentTarget),o.bodyFix.on(),$(i).find(".layer-popup").hasClass("alert-popup")||$(i).find(".layer-popup").hasClass("slide-popup")||$(i).find(".layer-popup").hasClass("img-popup")||this.scroll($(i)),$(i).find(".layer-popup").hasClass("slide-popup")&&this.slider($(i)),$(i).attr({tabindex:0,"aria-hidden":"false"}).stop().fadeIn().css("display","flex").addClass("show").focus()},close:function(t){("object"==_typeof(t)?$(t.currentTarget).closest(".layer-popup-wrap"):$("#"+t)).attr({tabindex:"","aria-hidden":"true"}).stop().fadeOut().removeClass("show"),o.bodyFix.off(),this.obj.focus()},scroll:function(t){var i=t.find(".layer-popup"),n=t.find(".popup-body");$.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.innerHeight()},setTimeout(function(){n.hasScrollBar()&&(i.addClass("isScroll"),n.on("wheel scroll",function(){0<$(this).scrollTop()?i.addClass("down"):i.removeClass("down")}))},100)},slider:function(t){var i=t.find(".popup-slider"),n=i.find("> div").length;setTimeout(function(){i&&(i.on({init:function(t,i){$(".slider-count .total").text(n)},beforeChange:function(t,i,n,o){i.slideCount;$(".slider-count .current").text(o+1)}}),o.slick.init(i,{infinite:!0,speed:500,slidesToShow:1,dots:!1,arrows:!1}))},100)}},o.eventBind={init:function(){0<$("header").length&&this.header.init(),0<$(".btn-top-move").length&&this.floatingBtn.init(),0<$(".tab-wrap").length&&this.tab.init(),0<$(".box-tooltip").length&&this.tooltip.init(),0<$(".btn-toast").length&&this.toast.init(),0<$(".box-input-write .box-input textarea").length&&this.commentInput.init(),0<$(".accordion-head button").length&&this.accordion.init(),0<$(".rolling-list").length&&this.rolling.init(),0<$(".text-input-wrap").length&&this.textField.init(),0<$(".box-search-word").length&&this.popularSearchWord.init(),this.slider.init(),this.lottie.init(),0<$(".plugin-select").length&&this.selectric.init(),0<$(".story-detail").length&&this.storyDetail.init(),0<$(".layout-write-wrap").length&&this.writeEvent.init()},header:{init:function(){this.gnb(),this.search(),s.on("scroll",function(){0<$(window).scrollTop()?$("header").addClass("scrolling"):$("header").removeClass("scrolling")})},search:function(){var t=$(".box-hd-sch"),i=t.find(".sch-input"),n=t.find(".ico-search-delete"),o=t.find(".box-sch-type1"),e=t.find(".box-sch-type2");function s(){""!==i.val()?(n.show(),o.removeClass("on"),e.show()):(n.hide(),o.addClass("on"),e.hide())}setTimeout(function(){i.on("change keyup",s)},100),n.on("click",function(){$(this).hide(),e.hide(),i.val("").focus()}),i.on("focus",function(){s(),i.addClass("isFocus")}),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".box-hd-sch")?(s(),i.addClass("isFocus")):(i.removeClass("isFocus"),o.removeClass("on"),e.hide(),n.hide())})},gnb:function(){var t=$(".btn-hamburger"),i=$(".gnb-wrap"),n=$(".dep1.isDep2");t.on("click",function(){i.fadeIn().addClass("open")}),i.on("click",function(t){"gnb-wrap open"===t.target.className&&i.hide().removeClass("open")}),n.on("click",function(){$(this).toggleClass("open"),$(this).siblings(".dep2-list").slideToggle("fast")})}},tab:{init:function(){$(".tab-wrap").hasClass("tab-ctrl")&&this.tabEvent(),0<$(".tab-wrap .ico-1depth-close").length&&this.tabDropDown()},tabEvent:function(){$(".tab-list > li").eq(0).find("a, button").attr({title:"현재 탭","aria-selected":"true",role:"tab"}).addClass("on"),$(".tab-content").find("> div").eq(0).attr("aria-hidden","false").siblings("div").attr("aria-hidden","true"),$(".tab-ctrl .tab-list > li > *").on("focusin click",function(){var t=$(this).closest("li").index();$(this).addClass("on").attr({title:"현재 탭","aria-selected":"true"}).closest("li").siblings("li").find("a").removeClass("on").attr({title:"","aria-selected":"false"}),$(this).closest(".tab-list").siblings(".tab-content").children("div").attr("aria-hidden","false").eq(t).show().siblings("div").hide().attr("aria-hidden","true")})},tabDropDown:function(){var n=$(".tab-list-round");$(".ico-1depth-close").on("click",function(){$(this).closest(".btn-tab-wrap").siblings(".tab-list").toggleClass("active")}),n.on("wheel",function(t){t.preventDefault();var i=n.scrollLeft();$(this).scrollLeft(i+=t.originalEvent.deltaY)}),n.each(function(t,i){var o,n=$(i).width(),e=$(i).find("> li"),s=0;e.each(function(t,i){var n=$(i).width();-1!=$(i).find(".on").parent().index()&&(o=$(i).find(".on").parent().index()-1),s+=n}),n<=s&&($(i).siblings(".btn-tab-wrap").show(),$(i).addClass("isScroll"),6<o&&$(i).scrollLeft(60*o))})}},floatingBtn:{init:function(){var t,i,n=$(".footer-floating"),o=$(".btn-top-move"),e=$(".btn-write-bottom");0===$(".btn-write-head").length&&e.hide(),0<$("#event.challenge").length&&e.show(),0<$("#welcafe.dtCommunity").length&&e.show(),setTimeout(function(){i=$("#container").innerHeight()-$(window).height()-$("footer").innerHeight()+100,s.on("scroll",function(){140<=(t=$(this).scrollTop())?n.addClass("on"):n.removeClass("on"),i<=t?n.addClass("fix"):n.removeClass("fix")})},100),o.on("click",function(){return $("html,body").animate({scrollTop:0},400)})}},tooltip:{init:function(){this.open(),this.close()},open:function(){$(".btn-tooltip").on("click",function(){$(this).siblings(".active-toolBox").toggleClass("active")})},close:function(){document.querySelector("body").addEventListener("click",function(t){t.target.closest(".box-tooltip")||$(".active-toolBox").removeClass("active")})}},toast:{init:function(){$(".btn-toast").on("click",function(){$(this).siblings(".pop-toast").hasClass("show")||($(this).siblings(".pop-toast").addClass("show"),setTimeout(function(){$(".pop-toast").removeClass("show")},2e3))})}},slider:{init:function(){$(".popular-list").length&&(o.slick.init($(".popular-list"),{infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,dots:!1}),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(".popular-list").slick("slickGoTo",0)})),$(".ev-slide").length&&(o.slick.init($(".ev-slide"),{infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,dots:!1}),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(".ev-slide").slick("slickGoTo",0)})),$(".slider-wrap").length&&$(".box-notice-list").length&&(o.slick.init($(".box-notice-list"),{infinite:!1,speed:500,slidesToShow:3,slidesToScroll:3,dots:!1}),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(".box-notice-list").slick("slickGoTo",0)}))}},lottie:{init:function(){0<$("#not-search").length&&o.lottie.init("not-search","01_coffee_cup"),0<$("#not-chellenge").length&&o.lottie.init("not-chellenge","06_challenge"),0<$("#not-page").length&&o.lottie.init("not-page","03_error_page"),0<$("#not-pin").length&&o.lottie.init("not-pin","02_wellcafe_pin"),0<$("#not-board").length&&o.lottie.init("not-board","08_community_empty"),0<$("#icon-lottie06").length&&o.lottie.init("icon-lottie06","07_complete")}},accordion:{init:function(){var t=$(".accordion-head button"),i=$(".accordion-body");t.on("click",function(){$(this).hasClass("open")?(t.removeClass("open"),i.stop().slideUp("fast")):(t.removeClass("open"),i.stop().slideUp("fast"),$(this).addClass("open"),$(this).closest(".accordion-wrap").find(".accordion-body").stop().slideDown("fast"))})}},commentInput:{init:function(){var t=$(".box-input-write .box-input textarea"),i=$(document.createElement("div")),n=null;i.addClass("tarea-hidden"),t.after(i),t.on("keyup",function(){n=(n=$(this).val()).replace(/\n/g,"<br>"),$(this).siblings(".tarea-hidden").html(n+'<br class="lbr">'),$(this).css("height",$(this).siblings(".tarea-hidden").height())})}},storyDetail:{init:function(){this.headerNavi(),this.bottomNavi(),0<$(".sub-visual .video-js").length&&this.coverVideo()},coverVideo:function(){var t=$(".sub-visual"),i=t.find(".box-txt"),n=videojs("#cover-video");i.hover(function(){t.addClass("video-hover")},function(){t.removeClass("video-hover")}),i.on("click",function(){n.paused()?n.play():n.pause()})},headerNavi:function(){var i,n=$("header"),o=$(".story-detail-header"),e=$(".progressbar .in-progress");s.on("scroll",function(){var t=$(this).scrollTop();i=$(document).height()-$(window).height(),i=100*t/i+0,e.css("width",i+"%"),t>n.height()||"0px"!=$("body").css("top")?(n.hide(),o.stop().fadeIn("fast")):(n.show(),o.stop().fadeOut("fast"))})},bottomNavi:function(){var i=$(".layout-detail-view"),t=$(window).height(),n=i.find(".detail-util").offset().top-t-300;i.addClass("sticky"),s.on("scroll",function(){var t=$(this).scrollTop();n<=t?i.removeClass("sticky"):i.addClass("sticky")})}},rolling:{init:function(){var t=$(".rolling-list"),e=$(".rolling-count"),i=$(".rolling-arrow");e.find(".total").text(t.find("> div").length),t.on({beforeChange:function(t,i,n,o){i.slideCount;e.find(".current").text(o+1)}}),o.slick.init(t,{infinite:!0,speed:500,slidesToShow:1,dots:!1,arrows:!1,autoplay:!0,autoplaySpeed:3e3,vertical:!0}),i.find(".prev").on("click",function(){return t.slick("slickPrev")}),i.find(".next").on("click",function(){return t.slick("slickNext")})}},selectric:{init:function(){$(".plugin-select").selectric({maxHeight:284,onChange:function(t){$(t).closest(".selectric-wrapper").find(".selectric").addClass("change")}})}},writeEvent:{init:function(){this.guideBox(),this.moduleList()},guideBox:function(){var t=$(".box-guide");setTimeout(function(){return t.addClass("hide")},3e3)},moduleList:function(){var i=$(".box-module-wrap"),t=$(".list-module"),n=i.offset().top-100;setTimeout(function(){t.find("> li").hover(function(){$(this).siblings("li").find("button").addClass("unfocus")},function(){$(this).siblings("li").find("button").removeClass("unfocus")})},500),s.on("scroll",function(){var t=$(this).scrollTop();n<=t?i.addClass("fix"):i.removeClass("fix")}),$(".ico-post-mov").on("click",function(){$(this).siblings(".layer-module-select").toggleClass("on")}),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".ico-post-mov")||$(".layer-module-select").removeClass("on")})}},textField:{init:function(){this.delete()},delete:function(){var t=$(".text-input-wrap"),i=t.find("input"),n=t.find(".ico-search-delete");setTimeout(function(){i.on("change keyup",function(){var t=$(this).val(),i=$(this).siblings(".ico-search-delete");""!==t?i.show():i.hide()})},100),n.on("click",function(){$(this).hide(),$(this).siblings("input").val("").focus()}),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".text-input-wrap")||n.hide()})}},popularSearchWord:{init:function(){this.rolling(),this.click()},rolling:function(){var t=$(".box-search-word .rolling-wrap"),i=t.height(),n=t.find("li").length,o=i*n,e=0;setInterval(function(){e+=i,t.find("ul").animate({top:-e},600,function(){o<=e&&($(this).css("top",0),e=0)})},3e3),t.find("ul").append(t.find("li").first().clone())},click:function(){var t=$(".box-search-word .ico-black-arr-down"),i=$(".box-search-word .list-popular-wrap");t.on("click",function(){i.addClass("show")}),$(document).mouseup(function(t){0===i.has(t.target).length&&i.removeClass("show")})}}},o.init(),o}(window.uiCommon||{},$(window));
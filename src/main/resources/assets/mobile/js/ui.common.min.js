"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var uiCommon=function(e,s){return e.init=function(){e.eventBind.init(),0<$("[data-pop]").length&&e.layer.init()},e.bodyFix={on:function(){$("#wrap");var t=s.scrollTop();$("body").addClass("scrOff").css({top:-t})},off:function(){var t=Math.abs(parseInt($("body").css("top")));$("body").removeClass("scrOff").removeAttr("style"),s.scrollTop(t)}},e.slick={init:function(t,i){return t.not(".slick-initialized").slick(i)},destory:function(t){t.filter(".slick-initialized").slick("unslick")}},e.lottie={init:function(t,i){lottie.loadAnimation({container:document.getElementById(t),renderer:"svg",loop:!0,autoplay:!0,path:"../../../assets/web/images/lottie/"+i+".json"})}},e.layer={init:function(){var i=this;$("[data-pop]").on("click",function(t){return i.open(t)}),$(".popup-close").on("click",function(t){return i.close(t)})},open:function(t){var i="object"==_typeof(t)?"#"+$(t.currentTarget).attr("data-pop"):"#"+t;this.obj=$(t.currentTarget),e.bodyFix.on(),$(i).find(".layer-popup").hasClass("alert-popup")||$(i).find(".layer-popup").hasClass("slide-popup")||$(i).find(".layer-popup").hasClass("img-popup")||this.scroll($(i)),$(i).find(".layer-popup").hasClass("slide-popup")&&this.slider($(i)),$(i).attr({tabindex:0,"aria-hidden":"false"}).stop().fadeIn().css("display","flex").addClass("show").focus()},close:function(t){("object"==_typeof(t)?$(t.currentTarget).closest(".layer-popup-wrap"):$("#"+t)).attr({tabindex:"","aria-hidden":"true"}).stop().fadeOut().removeClass("show"),e.bodyFix.off(),this.obj.focus()},scroll:function(t){var i=t.find(".layer-popup"),n=t.find(".popup-body");$.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.innerHeight()},setTimeout(function(){n.hasScrollBar()&&(i.addClass("isScroll"),n.on("wheel scroll",function(){0<$(this).scrollTop()?i.addClass("down"):i.removeClass("down")}))},100)},slider:function(t){var i=t.find(".popup-slider"),n=i.find("> div").length;setTimeout(function(){i&&(i.on({init:function(t,i){$(".slider-count .total").text(n)},beforeChange:function(t,i,n,e){i.slideCount;$(".slider-count .current").text(e+1),console.log($(this))}}),e.slick.init(i,{infinite:!0,speed:500,slidesToShow:1,dots:!1,arrows:!1}))},100)}},e.eventBind={init:function(){0<$("header").length&&this.header.init(),0<$(".tab-wrap").length&&this.tab.init(),0<$(".box-tooltip").length&&this.tooltip.init(),0<$(".btn-toast").length&&this.toast.init(),0<$(".box-input-write .box-input textarea").length&&this.commentInput.init(),0<$(".accordion-head button").length&&this.accordion.init(),0<$(".rolling-list").length&&this.rolling.init(),0<$(".text-input-wrap").length&&this.textField.init(),this.slider.init(),this.lottie.init(),this.floatingBtn.init(),0<$(".story-detail").length&&this.storyDetail.init(),0<$(".layout-write-wrap").length&&this.writeEvent.init()},header:{init:function(){this.gnb(),this.search()},search:function(){var t=$(".box-hd-sch"),i=t.find(".sch-input"),n=t.find(".ico-search-delete"),e=t.find(".box-sch-type1"),o=t.find(".box-sch-type2");function s(){""!==i.val()?(n.show(),e.removeClass("on"),o.show()):(n.hide(),e.addClass("on"),o.hide())}setTimeout(function(){i.on("change keyup",s)},100),n.on("click",function(){$(this).hide(),o.hide(),i.val("").focus()}),i.on("focus",function(){s(),i.addClass("isFocus")}),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".box-hd-sch")?(s(),i.addClass("isFocus")):(i.removeClass("isFocus"),e.removeClass("on"),o.hide(),n.hide())})},gnb:function(){var t=$(".btn-hamburger"),i=$(".gnb-wrap"),n=$(".dep1.isDep2");t.on("click",function(){i.fadeIn().addClass("open")}),i.on("click",function(t){"gnb-wrap open"===t.target.className&&i.hide().removeClass("open")}),n.on("click",function(){$(this).toggleClass("open"),$(this).siblings(".dep2-list").slideToggle("fast")})}},tab:{init:function(){$(".tab-wrap").hasClass("tab-ctrl")&&this.tabEvent(),0<$(".tab-wrap .ico-1depth-close").length&&this.tabDropDown()},tabEvent:function(){$(".tab-list > li").eq(0).find("a, button").attr({title:"현재 탭","aria-selected":"true",role:"tab"}).addClass("on"),$(".tab-content").find("> div").eq(0).attr("aria-hidden","false").siblings("div").attr("aria-hidden","true"),$(".tab-ctrl .tab-list > li > *").on("focusin click",function(){var t=$(this).closest("li").index();$(this).addClass("on").attr({title:"현재 탭","aria-selected":"true"}).closest("li").siblings("li").find("a").removeClass("on").attr({title:"","aria-selected":"false"}),$(this).closest(".tab-list").siblings(".tab-content").children("div").attr("aria-hidden","false").eq(t).show().siblings("div").hide().attr("aria-hidden","true")})},tabDropDown:function(){var n=$(".tab-list-round");$(".ico-1depth-close").on("click",function(){$(this).closest(".btn-tab-wrap").siblings(".tab-list").toggleClass("active")}),n.on("wheel",function(t){t.preventDefault();var i=n.scrollLeft();$(this).scrollLeft(i+=t.originalEvent.deltaY)}),n.each(function(t,i){var e,n=$(i).width(),o=$(i).find("> li"),s=0;o.each(function(t,i){var n=$(i).width();-1!=$(i).find(".on").parent().index()&&(e=$(i).find(".on").parent().index()-1),s+=n}),n<=s&&($(i).siblings(".btn-tab-wrap").show(),$(i).addClass("isScroll"),6<e&&$(i).scrollLeft(60*e))})}},floatingBtn:{init:function(){var t=$(".btn-write-bottom");$("#container").hasClass("isWriteBtn")&&(t.show().css("display","flex"),setTimeout(function(){t.addClass("on")},1e3))}},tooltip:{init:function(){this.open(),this.close()},open:function(){$(".btn-tooltip").on("click",function(){$(this).siblings(".active-toolBox").toggleClass("active")})},close:function(){document.querySelector("body").addEventListener("click",function(t){t.target.closest(".box-tooltip")||$(".active-toolBox").removeClass("active")})}},toast:{init:function(){$(".btn-toast").on("click",function(){$(this).siblings(".pop-toast").hasClass("show")||($(this).siblings(".pop-toast").addClass("show"),setTimeout(function(){$(".pop-toast").removeClass("show")},2e3))})}},slider:{init:function(){$(".popular-list").length&&(e.slick.init($(".popular-list"),{infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,dots:!1}),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(".popular-list").slick("slickGoTo",0)})),$(".ev-slide").length&&(e.slick.init($(".ev-slide"),{infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,dots:!1}),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(".ev-slide").slick("slickGoTo",0)})),$(".slider-wrap").length&&$(".box-notice-list").length&&(e.slick.init($(".box-notice-list"),{infinite:!1,speed:500,slidesToShow:3,slidesToScroll:3,dots:!1}),$(".slick-next").on("click",function(){$(this).hasClass("slick-disabled")&&$(".box-notice-list").slick("slickGoTo",0)}))}},lottie:{init:function(){0<$("#not-search").length&&e.lottie.init("not-search","01_coffee_cup"),0<$("#not-chellenge").length&&e.lottie.init("not-chellenge","06_challenge"),0<$("#not-page").length&&e.lottie.init("not-page","03_error_page"),0<$("#not-pin").length&&e.lottie.init("not-pin","02_wellcafe_pin"),0<$("#not-board").length&&e.lottie.init("not-board","08_community_empty"),0<$("#icon-lottie06").length&&e.lottie.init("icon-lottie06","07_complete")}},accordion:{init:function(){var t=$(".accordion-head button"),i=$(".accordion-body");t.on("click",function(){$(this).hasClass("open")?(t.removeClass("open"),i.stop().slideUp("fast")):(t.removeClass("open"),i.stop().slideUp("fast"),$(this).addClass("open"),$(this).closest(".accordion-wrap").find(".accordion-body").stop().slideDown("fast"))})}},commentInput:{init:function(){var t=$(".box-input-write .box-input textarea"),i=$(document.createElement("div")),n=null;i.addClass("tarea-hidden"),t.after(i),t.on("keyup",function(){n=(n=$(this).val()).replace(/\n/g,"<br>"),$(this).siblings(".tarea-hidden").html(n+'<br class="lbr">'),$(this).css("height",$(this).siblings(".tarea-hidden").height())})}},storyDetail:{init:function(){this.headerNavi(),this.bottomNavi()},headerNavi:function(){var i,n=$("header"),e=$(".story-detail-header"),o=$(".progressbar .in-progress");s.on("scroll",function(){var t=$(this).scrollTop();i=$(document).height()-$(window).height(),i=100*t/i+0,o.css("width",i+"%"),t>n.height()||"0px"!=$("body").css("top")?(n.hide(),e.stop().fadeIn("fast")):(n.show(),e.stop().fadeOut("fast"))})},bottomNavi:function(){var i=$(".layout-detail-view"),t=$(window).height(),n=i.find(".detail-util").offset().top-t-300;i.addClass("sticky"),s.on("scroll",function(){var t=$(this).scrollTop();n<=t?i.removeClass("sticky"):i.addClass("sticky")})}},rolling:{init:function(){var t=$(".rolling-list"),o=$(".rolling-count"),i=$(".rolling-arrow");o.find(".total").text(t.find("> div").length),t.on({beforeChange:function(t,i,n,e){i.slideCount;o.find(".current").text(e+1)}}),e.slick.init(t,{infinite:!0,speed:500,slidesToShow:1,dots:!1,arrows:!1,autoplay:!0,autoplaySpeed:3e3,vertical:!0}),i.find(".prev").on("click",function(){return t.slick("slickPrev")}),i.find(".next").on("click",function(){return t.slick("slickNext")})}},selectric:{init:function(){$(".plugin-select").selectric({maxHeight:284,onChange:function(t){$(t).closest(".selectric-wrapper").find(".selectric").addClass("change")}})}},writeEvent:{init:function(){this.guideBox(),this.moduleList()},guideBox:function(){var t=$(".box-guide");setTimeout(function(){return t.addClass("hide")},3e3)},moduleList:function(){var i=$(".box-module-wrap"),t=$(".list-module"),n=i.offset().top-100;setTimeout(function(){t.find("> li").hover(function(){$(this).siblings("li").find("button").addClass("unfocus")},function(){$(this).siblings("li").find("button").removeClass("unfocus")})},500),s.on("scroll",function(){var t=$(this).scrollTop();n<=t?i.addClass("fix"):i.removeClass("fix")}),$(".ico-post-mov").on("click",function(){$(this).siblings(".layer-module-select").toggleClass("on")}),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".ico-post-mov")||$(".layer-module-select").removeClass("on")})}},textField:{init:function(){this.delete(),0<$(".text-input-wrap.isBtn").length&&this.actBtn()},actBtn:function(){var t=$(".text-input-wrap").find("input");setTimeout(function(){t.on("change keyup",function(){var t=$(this).val(),i=$(this).siblings(".btn-action");""!==t?(i.removeAttr("disabled"),i.addClass("btn-black")):(i.attr("disabled",""),i.removeClass("btn-black"))})},100)},delete:function(){var t=$(".text-input-wrap"),i=t.find("input"),n=t.find(".ico-search-delete");setTimeout(function(){i.on("change keyup",function(){var t=$(this).val(),i=$(this).siblings(".ico-search-delete");""!==t?i.show():i.hide()})},100),n.on("click",function(){$(this).hide(),$(this).siblings("input").val("").focus()}),document.querySelector("body").addEventListener("click",function(t){t.target.closest(".text-input-wrap")||n.hide()})}}},e.init(),e}(window.uiCommon||{},$(window));